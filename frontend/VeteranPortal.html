<!DOCTYPE html>
<html>
<head>
    <title>SSVF VetConnect - Veteran Portal</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="global-top-bar">
        <a href="index.html" class="top-bar-link">SSVF VetConnect</a>
        <span class="portal-name">Veteran Portal</span>
    </div>

    <!-- Top container with buttons -->
    <div class="container">
        <h1>Veteran Portal</h1>
        <div class="subtitle">
            To help coordinate your health and housing care, you can grant your SSVF case manager digital access to some of your VA info, like upcoming appointments. You can also review your own information here or at <a href="https://myhealth.va.gov" target="_blank" rel="noopener">myhealth.va.gov</a>.
        </div>
        <div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 10px;">
            <button id="approve-button" class="button-green">Approve/Grant Access</button>
            <button id="fetch-button" class="button-green">Fetch My Info</button>
            <span style="border-left:1px solid #ccc; height:28px; margin:0 12px;"></span>
            <button id="revoke-button" class="button-red">Revoke Access</button>
        </div>
        <div id="status" style="margin-top:18px;"></div>
    </div>

    <!-- Demo instructions always shown -->
    <div class="container" style="margin-top: 32px;">
        <div class="demo-instructions" style="padding: 16px; background: #f6f8fa; border-radius: 6px;">
            <strong>Demo Instructions:</strong>
            <p>
                For demonstration, you can use one of the sample Veterans below to log in and grant access. Use the <b>ID.me</b> email and password shown.
            </p>
            <p>
                <b>During ID.me login, just click "Continue" through any security code (OTP) screens—you do not need to enter a real code for these demo accounts.</b>
            </p>
            <div style="display: flex; justify-content: center;">
                <table border="1" cellpadding="6" style="border-collapse:collapse; background:#fff; margin: 0 auto;">
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>ID.me Email</th>
                            <th>ID.me Password</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Sheba703</td>
                            <td>Harris789</td>
                            <td>
                                va.api.user+101-2024@gmail.com
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('va.api.user+101-2024@gmail.com', this)">&#128203;</span>
                            </td>
                            <td>
                                SandboxPassword2024!
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('SandboxPassword2024!', this)">&#128203;</span>
                            </td>
                        </tr>
                        <tr>
                            <td>Mariano761</td>
                            <td>Ruelas156</td>
                            <td>
                                va.api.user+102-2024@gmail.com
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('va.api.user+102-2024@gmail.com', this)">&#128203;</span>
                            </td>
                            <td>
                                SandboxPassword2024!
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('SandboxPassword2024!', this)">&#128203;</span>
                            </td>
                        </tr>
                        <tr>
                            <td>Lorenzo669</td>
                            <td>Valent�n837</td>
                            <td>
                                va.api.user+103-2024@gmail.com
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('va.api.user+103-2024@gmail.com', this)">&#128203;</span>
                            </td>
                            <td>
                                SandboxPassword2024!
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('SandboxPassword2024!', this)">&#128203;</span>
                            </td>
                        </tr>
                        <tr>
                            <td>Luis923</td>
                            <td>Mayer370</td>
                            <td>
                                va.api.user+114-2024@gmail.com
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('va.api.user+114-2024@gmail.com', this)">&#128203;</span>
                            </td>
                            <td>
                                SandboxPassword2024!
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('SandboxPassword2024!', this)">&#128203;</span>
                            </td>
                        </tr>
                        <tr>
                            <td>Dorian295</td>
                            <td>Friesen796</td>
                            <td>
                                va.api.user+104-2024@gmail.com
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('va.api.user+104-2024@gmail.com', this)">&#128203;</span>
                            </td>
                            <td>
                                SandboxPassword2024!
                                <span class="copy-btn" style="cursor:pointer; color:#205493; margin-left:4px;" title="Copy" onclick="copyToClipboard('SandboxPassword2024!', this)">&#128203;</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p style="margin-top:8px;">
                <b>Note:</b> These demo accounts are for testing only. Do not enter real personal information.
            </p>
        </div>
    </div>

    <!-- Main content area: patient info + checklist side by side if patient info, else checklist centered -->
    <div id="main-content"></div>

    <script src="app.js"></script>
    <script>
    // Copy to clipboard function for demo table
    function copyToClipboard(text, el) {
        navigator.clipboard.writeText(text).then(() => {
            el.style.color = "#43a047";
            el.title = "Copied!";
            setTimeout(() => {
                el.style.color = "#205493";
                el.title = "Copy";
            }, 1200);
        });
    }

    // Render checklist HTML (reuse this in both flex and centered modes)
    function getChecklistHTML() {
        return `
        <div class="veteran-checklist">
            <h2 style="color:#205493; margin-top:0; margin-bottom:18px;">Veteran Health Care Connection Checklist</h2>
            <p style="font-size:1.08em; margin-bottom:18px;">
                <strong>Ask your SSVF Case Manager for assistance. They're here to help!</strong>
            </p>
            <div style="margin-bottom: 10px;">
                <details>
                    <summary style="font-weight:bold; font-size:1.08em; color:#205493;">Step 1: Get a VA Appointment</summary>
                    <ul style="margin-top:8px;">
                        <li>Contact your Primary Care Clinic or local VA.</li>
                        <li>Ask about VA Telehealth options:
                            <ul>
                                <li><b>VA Video Connect (VVC)</b> or <b>Clinical Video Telehealth (CVT)</b> lets you see your doctor by phone, tablet, or computer.</li>
                                <li>Telehealth can help you avoid travel, save time, and get care quickly.</li>
                                <li>
                                    See the 
                                    <a href="telehealth_quick_card.html" target="_blank" style="color:#205493; text-decoration:underline;">
                                        Telehealth Quick Card
                                    </a> 
                                    for tips on using VA Telehealth and getting connected.
                                </li>
                            </ul>
                        </li>
                    </ul>
                </details>
            </div>
            <div style="margin-bottom: 10px;">
                <details>
                    <summary style="font-weight:bold; font-size:1.08em; color:#205493;">Step 2: Access Physical and Mental Healthcare</summary>
                    <ul style="margin-top:8px;">
                        <li>Secure a Primary Care Provider (PCP) through your Patient Aligned Care Team (PACT).</li>
                        <li>Work with your case manager or healthcare navigator if you have difficulty accessing care.</li>
                        <li>Schedule needed care:
                            <ul>
                                <li>Primary Care</li>
                                <li>Mental Health</li>
                                <li>Substance Use Treatment</li>
                                <li>Prescriptions</li>
                                <li>Follow-up Appointments</li>
                            </ul>
                        </li>
                    </ul>
                </details>
            </div>
            <div style="margin-bottom: 10px;">
                <details>
                    <summary style="font-weight:bold; font-size:1.08em; color:#205493;">Step 3: Include Your Healthcare Navigator in your VA Care Team</summary>
                    <ul style="margin-top:8px;">
                        <li>Let your VA team know if you have a healthcare navigator or case manager helping you.</li>
                    </ul>
                </details>
            </div>
            <div style="margin-bottom: 10px;">
                <details>
                    <summary style="font-weight:bold; font-size:1.08em; color:#205493;">Step 4: Transportation Help</summary>
                    <ul style="margin-top:8px;">
                        <li>Ask the VA or navigator about:
                            <ul>
                                <li>Travel pay</li>
                                <li>VA shuttles</li>
                                <li>Veteran service organization rides</li>
                            </ul>
                        </li>
                    </ul>
                </details>
            </div>
            <div style="margin-bottom: 10px;">
                <details>
                    <summary style="font-weight:bold; font-size:1.08em; color:#205493;">Step 5: Access Additional Support</summary>
                    <ul style="margin-top:8px;">
                        <li>Ask the healthcare navigator or VA social worker to connect you to:
                            <ul>
                                <li>Dental and vision care</li>
                                <li>Vocational rehabilitation</li>
                                <li>Benefits and claims assistance</li>
                                <li>Legal and advocacy support</li>
                            </ul>
                        </li>
                    </ul>
                </details>
            </div>
            <div style="margin-top:18px;">
                <h3 style="margin-bottom:8px; color:#205493;">Key Phone Numbers</h3>
                <ul style="list-style:none; padding-left:0; font-size:1.08em;">
                    <li><b>VA Benefits / Enrollment:</b> 1-877-222-VETS (8387)</li>
                    <li><b>Veterans Crisis Line:</b> 988, then press 1</li>
                    <li><b>SSVF Health Care Navigator (local contact):</b> <span style="color:#888;">_____________</span></li>
                    <li><b>Transportation Help (local contact):</b> <span style="color:#888;">______________</span></li>
                </ul>
            </div>
        </div>
        `;
    }

    // This function will be called by your app.js updateUI
    function renderMainContent(patientInfoHTML) {
        const mainContent = document.getElementById('main-content');
        if (patientInfoHTML && patientInfoHTML.trim() !== '') {
            // Show patient info and checklist side by side
            mainContent.innerHTML = `
                <div class="main-flex">
                    <div>${patientInfoHTML}</div>
                    <div>${getChecklistHTML()}</div>
                </div>
            `;
        } else {
            // Show checklist centered and full width
            mainContent.innerHTML = `
                <div class="centered-checklist">
                    ${getChecklistHTML()}
                </div>
            `;
        }
    }

    // On page load, show only the checklist (no patient info yet)
    renderMainContent('');

    // In your app.js, after fetching and building the patient info HTML, call:
    // renderMainContent(patientInfoHTML);

    // Optionally, you can expose renderMainContent globally if needed:
    window.renderMainContent = renderMainContent;
    </script>
</body>
</html>